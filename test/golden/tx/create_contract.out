Length: 2202 (0x89a) bytes
0000:   00 00 00 00  07 94 20 67  6c 6f 62 61  6c 20 66 6c   ...... global fl
0010:   6f 61 74 20  78 20 3d 20  30 2e 30 3b  20 20 67 6c   oat x = 0.0;  gl
0020:   6f 62 61 6c  20 66 69 78  65 64 33 20  66 33 20 3d   obal fixed3 f3 =
0030:   20 31 2e 32  33 34 66 3b  20 20 67 6c  6f 62 61 6c    1.234f;  global
0040:   20 66 69 78  65 64 32 20  71 3b 20 20  6c 6f 63 61    fixed2 q;  loca
0050:   6c 20 69 6e  74 20 79 20  3d 20 37 3b  20 20 6c 6f   l int y = 7;  lo
0060:   63 61 6c 20  66 6c 6f 61  74 20 76 3b  20 20 61 73   cal float v;  as
0070:   73 65 74 46  72 61 63 35  20 7a 20 3d  20 61 27 48   setFrac5 z = a'H
0080:   31 74 62 72  45 4b 57 47  70 62 50 6a  53 65 47 38   1tbrEKWGpbPjSeG8
0090:   35 36 6b 7a  32 44 6a 56  69 43 77 4d  55 33 71 54   56kz2DjViCwMU3qT
00a0:   77 33 69 31  50 71 43 4c  7a 36 35 27  3b 20 20 63   w3i1PqCLz65';  c
00b0:   6f 6e 74 72  61 63 74 20  63 20 3d 20  63 27 48 31   ontract c = c'H1
00c0:   74 62 72 45  4b 57 47 70  62 50 6a 53  65 47 38 35   tbrEKWGpbPjSeG85
00d0:   36 6b 7a 32  44 6a 56 69  43 77 4d 55  33 71 54 77   6kz2DjViCwMU3qTw
00e0:   33 69 31 50  71 43 4c 7a  36 35 27 3b  20 20 20 61   3i1PqCLz65';   a
00f0:   63 63 6f 75  6e 74 20 61  20 3d 20 75  27 48 31 74   ccount a = u'H1t
0100:   62 72 45 4b  57 47 70 62  50 6a 53 65  47 38 35 36   brEKWGpbPjSeG856
0110:   6b 7a 32 44  6a 56 69 43  77 4d 55 33  71 54 77 33   kz2DjViCwMU3qTw3
0120:   69 31 50 71  43 4c 7a 36  35 27 3b 20  20 20 20 64   i1PqCLz65';    d
0130:   61 74 65 74  69 6d 65 20  64 74 3b 20  20 20 20 74   atetime dt;    t
0140:   72 61 6e 73  69 74 69 6f  6e 20 69 6e  69 74 69 61   ransition initia
0150:   6c 20 2d 3e  20 73 65 74  58 3b 20 20  74 72 61 6e   l -> setX;  tran
0160:   73 69 74 69  6f 6e 20 73  65 74 58 20  2d 3e 20 75   sition setX -> u
0170:   70 64 61 74  65 3b 20 20  74 72 61 6e  73 69 74 69   pdate;  transiti
0180:   6f 6e 20 75  70 64 61 74  65 20 2d 3e  20 73 65 74   on update -> set
0190:   58 3b 20 20  74 72 61 6e  73 69 74 69  6f 6e 20 73   X;  transition s
01a0:   65 74 58 20  2d 3e 20 73  65 74 75 70  3b 20 20 74   etX -> setup;  t
01b0:   72 61 6e 73  69 74 69 6f  6e 20 75 70  64 61 74 65   ransition update
01c0:   20 2d 3e 20  73 65 74 75  70 3b 20 20  74 72 61 6e    -> setup;  tran
01d0:   73 69 74 69  6f 6e 20 73  65 74 75 70  20 2d 3e 20   sition setup -> 
01e0:   63 6f 6e 66  69 72 6d 61  74 69 6f 6e  3b 20 20 74   confirmation;  t
01f0:   72 61 6e 73  69 74 69 6f  6e 20 63 6f  6e 66 69 72   ransition confir
0200:   6d 61 74 69  6f 6e 20 2d  3e 20 73 65  74 74 6c 65   mation -> settle
0210:   6d 65 6e 74  3b 20 20 74  72 61 6e 73  69 74 69 6f   ment;  transitio
0220:   6e 20 73 65  74 74 6c 65  6d 65 6e 74  20 2d 3e 20   n settlement -> 
0230:   74 65 72 6d  69 6e 61 6c  3b 20 20 20  20 74 72 61   terminal;    tra
0240:   6e 73 69 74  69 6f 6e 20  69 6e 69 74  69 61 6c 20   nsition initial 
0250:   2d 3e 20 63  69 72 63 75  6c 61 74 65  64 3b 20 20   -> circulated;  
0260:   74 72 61 6e  73 69 74 69  6f 6e 20 63  69 72 63 75   transition circu
0270:   6c 61 74 65  64 20 2d 3e  20 74 65 72  6d 69 6e 61   lated -> termina
0280:   6c 3b 20 20  74 72 61 6e  73 69 74 69  6f 6e 20 69   l;  transition i
0290:   6e 69 74 69  61 6c 20 2d  3e 20 74 65  72 6d 69 6e   nitial -> termin
02a0:   61 6c 3b 20  20 20 20 40  69 6e 69 74  69 61 6c 20   al;    @initial 
02b0:   20 73 65 74  44 61 74 65  28 29 20 7b  20 20 20 20    setDate() {    
02c0:   64 74 20 3d  20 22 32 30  32 30 2d 31  30 2d 32 30   dt = "2020-10-20
02d0:   54 31 35 3a  35 30 3a 31  32 2b 30 30  3a 30 30 22   T15:50:12+00:00"
02e0:   3b 20 20 20  20 74 65 72  6d 69 6e 61  74 65 28 29   ;    terminate()
02f0:   3b 20 20 7d  20 20 20 20  40 69 6e 69  74 69 61 6c   ;  }    @initial
0300:   20 20 69 6e  69 74 69 61  6c 69 7a 65  20 28 29 20     initialize () 
0310:   7b 20 20 20  20 74 72 61  6e 73 69 74  69 6f 6e 54   {    transitionT
0320:   6f 28 3a 73  65 74 58 29  3b 20 20 7d  20 20 20 20   o(:setX);  }    
0330:   40 73 65 74  75 70 20 20  63 6f 6e 66  69 72 6d 20   @setup  confirm 
0340:   28 29 20 7b  20 20 20 20  74 72 61 6e  73 69 74 69   () {    transiti
0350:   6f 6e 54 6f  28 3a 63 6f  6e 66 69 72  6d 61 74 69   onTo(:confirmati
0360:   6f 6e 29 3b  20 20 7d 20  20 20 20 40  63 6f 6e 66   on);  }    @conf
0370:   69 72 6d 61  74 69 6f 6e  20 20 73 65  74 74 6c 65   irmation  settle
0380:   20 28 29 20  7b 20 20 20  20 74 72 61  6e 73 69 74    () {    transit
0390:   69 6f 6e 54  6f 28 3a 73  65 74 74 6c  65 6d 65 6e   ionTo(:settlemen
03a0:   74 29 3b 20  20 7d 20 20  20 20 40 73  65 74 74 6c   t);  }    @settl
03b0:   65 6d 65 6e  74 20 20 66  69 6e 61 6c  69 7a 65 20   ement  finalize 
03c0:   28 29 20 7b  20 20 20 20  74 72 61 6e  73 69 74 69   () {    transiti
03d0:   6f 6e 54 6f  28 3a 74 65  72 6d 69 6e  61 6c 29 3b   onTo(:terminal);
03e0:   20 20 7d 20  20 20 20 40  73 65 74 58  20 20 73 65     }    @setX  se
03f0:   74 58 20 28  69 6e 74 20  6a 2c 20 66  6c 6f 61 74   tX (int j, float
0400:   20 6b 29 20  7b 20 20 20  20 78 20 3d  20 6b 3b 20    k) {    x = k; 
0410:   20 20 20 79  20 3d 20 79  20 2a 20 6a  3b 20 20 20      y = y * j;   
0420:   20 66 33 20  3d 20 32 2e  35 31 36 66  20 2b 20 66    f3 = 2.516f + f
0430:   33 3b 20 20  20 20 78 20  3d 20 66 69  78 65 64 33   3;    x = fixed3
0440:   54 6f 46 6c  6f 61 74 28  66 6c 6f 61  74 54 6f 46   ToFloat(floatToF
0450:   69 78 65 64  33 28 6b 29  29 20 2b 20  78 3b 20 20   ixed3(k)) + x;  
0460:   20 20 74 72  61 6e 73 69  74 69 6f 6e  54 6f 28 3a     transitionTo(:
0470:   75 70 64 61  74 65 29 3b  20 20 7d 20  20 20 20 40   update);  }    @
0480:   73 65 74 58  20 20 66 69  78 58 20 28  29 20 7b 20   setX  fixX () { 
0490:   20 20 20 74  72 61 6e 73  69 74 69 6f  6e 54 6f 28      transitionTo(
04a0:   3a 73 65 74  75 70 29 3b  20 20 7d 20  20 20 20 40   :setup);  }    @
04b0:   75 70 64 61  74 65 20 20  66 69 78 59  20 28 29 20   update  fixY () 
04c0:   7b 20 20 20  20 74 72 61  6e 73 69 74  69 6f 6e 54   {    transitionT
04d0:   6f 28 3a 73  65 74 75 70  29 3b 20 20  7d 20 20 20   o(:setup);  }   
04e0:   20 40 75 70  64 61 74 65  20 20 75 70  64 61 74 65    @update  update
04f0:   20 28 29 20  7b 20 20 20  20 6a 20 3d  20 31 30 20    () {    j = 10 
0500:   2b 20 37 20  2a 20 31 30  3b 20 20 20  20 6b 20 3d   + 7 * 10;    k =
0510:   20 6a 3b 20  20 20 20 6c  20 3d 20 6b  3b 20 20 20    j;    l = k;   
0520:   20 6d 20 3d  20 31 2e 32  33 66 20 2b  20 34 2e 35    m = 1.23f + 4.5
0530:   36 66 20 2d  20 37 2e 38  39 66 20 2a  20 39 2e 38   6f - 7.89f * 9.8
0540:   37 66 20 2f  20 36 35 2e  34 33 66 3b  20 20 20 20   7f / 65.43f;    
0550:   71 20 3d 20  6d 20 2b 20  31 2e 30 30  66 20 2b 20   q = m + 1.00f + 
0560:   66 6c 6f 61  74 54 6f 46  69 78 65 64  32 28 78 29   floatToFixed2(x)
0570:   3b 20 20 20  20 74 72 61  6e 73 69 74  69 6f 6e 54   ;    transitionT
0580:   6f 28 3a 73  65 74 58 29  3b 20 20 7d  20 20 20 20   o(:setX);  }    
0590:   40 69 6e 69  74 69 61 6c  20 20 66 20  28 69 6e 74   @initial  f (int
05a0:   20 6a 2c 20  62 6f 6f 6c  20 6b 29 20  7b 20 20 20    j, bool k) {   
05b0:   20 20 69 66  20 28 6b 29  20 7b 20 20  20 20 20 20     if (k) {      
05c0:   74 65 72 6d  69 6e 61 74  65 28 29 3b  20 20 20 20   terminate();    
05d0:   7d 20 65 6c  73 65 20 7b  20 20 20 20  20 20 74 65   } else {      te
05e0:   72 6d 69 6e  61 74 65 28  29 3b 20 20  20 20 7d 3b   rminate();    };
05f0:   20 20 7d 20  20 20 20 20  20 20 20 40  69 6e 69 74     }        @init
0600:   69 61 6c 20  20 67 20 28  61 73 73 65  74 44 69 73   ial  g (assetDis
0610:   63 20 66 2c  20 61 63 63  6f 75 6e 74  20 74 29 20   c f, account t) 
0620:   7b 20 20 20  20 69 66 20  28 61 73 73  65 74 45 78   {    if (assetEx
0630:   69 73 74 73  28 66 29 20  26 26 20 61  63 63 6f 75   ists(f) && accou
0640:   6e 74 45 78  69 73 74 73  28 74 29 29  20 7b 20 20   ntExists(t)) {  
0650:   20 20 20 20  74 72 61 6e  73 66 65 72  54 6f 28 66       transferTo(f
0660:   2c 20 32 30  29 3b 20 20  20 20 20 20  74 72 61 6e   , 20);      tran
0670:   73 66 65 72  46 72 6f 6d  28 66 2c 20  32 30 2c 20   sferFrom(f, 20, 
0680:   74 29 3b 20  20 20 20 7d  3b 20 20 20  20 74 65 72   t);    };    ter
0690:   6d 69 6e 61  74 65 28 29  3b 20 20 7d  20 20 20 20   minate();  }    
06a0:   40 69 6e 69  74 69 61 6c  20 20 63 69  72 63 75 6c   @initial  circul
06b0:   61 74 65 28  61 73 73 65  74 46 72 61  63 32 20 61   ate(assetFrac2 a
06c0:   66 32 2c 20  66 69 78 65  64 32 20 61  6d 6f 75 6e   f2, fixed2 amoun
06d0:   74 29 20 7b  20 20 20 20  63 69 72 63  75 6c 61 74   t) {    circulat
06e0:   65 28 61 66  32 2c 20 61  6d 6f 75 6e  74 29 3b 20   e(af2, amount); 
06f0:   20 20 20 74  72 61 6e 73  69 74 69 6f  6e 54 6f 28      transitionTo(
0700:   3a 63 69 72  63 75 6c 61  74 65 64 29  3b 20 20 7d   :circulated);  }
0710:   20 20 20 20  40 63 69 72  63 75 6c 61  74 65 64 20       @circulated 
0720:   20 74 72 61  6e 73 66 65  72 28 61 73  73 65 74 42    transfer(assetB
0730:   69 6e 20 61  62 2c 20 61  63 63 6f 75  6e 74 20 66   in ab, account f
0740:   72 6f 6d 2c  20 61 63 63  6f 75 6e 74  20 74 6f 2c   rom, account to,
0750:   20 62 6f 6f  6c 20 61 6d  6f 75 6e 74  29 20 7b 20    bool amount) { 
0760:   20 20 20 74  72 61 6e 73  66 65 72 48  6f 6c 64 69      transferHoldi
0770:   6e 67 73 28  66 72 6f 6d  2c 61 62 2c  61 6d 6f 75   ngs(from,ab,amou
0780:   6e 74 2c 74  6f 29 3b 20  20 20 20 74  65 72 6d 69   nt,to);    termi
0790:   6e 61 74 65  28 29 3b 20  20 7d 00 00  00 00 00 00   nate();  }......
07a0:   00 d8 41 45  34 78 4d 54  55 78 4d 7a  59 34 4d 44   ..AE4xMTUxMzY4MD
07b0:   41 34 4d 6a  41 30 4e 54  59 34 4d 7a  4d 33 4d 7a   A4MjA0NTY4MzM3Mz
07c0:   63 35 4f 54  51 78 4d 6a  59 33 4e 7a  45 7a 4f 44   c5OTQxMjY3NzEzOD
07d0:   59 77 4d 54  55 77 4d 6a  59 79 4f 44  63 77 4f 54   YwMTUwMjYyODcwOT
07e0:   55 77 4d 7a  51 32 4d 6a  55 32 4d 6a  4d 32 4e 44   UwMzQ2MjU2MjM2ND
07f0:   51 78 4f 44  59 79 4e 7a  67 78 4d 44  67 35 4d 6a   QxODYyNzgxMDg5Mj
0800:   59 32 4f 54  41 33 4e 7a  6b 31 4e 6a  63 36 41 45   Y2OTA3Nzk1Njc6AE
0810:   30 31 4d 54  59 31 4e 7a  55 35 4d 44  51 35 4d 6a   01MTY1NzU5MDQ5Mj
0820:   45 34 4e 54  41 7a 4d 7a  67 31 4d 7a  55 79 4e 6a   E4NTAzMzg1MzUyNj
0830:   45 31 4d 6a  41 30 4e 44  55 32 4f 44  4d 32 4d 44   E1MjA0NDU2ODM2MD
0840:   6b 30 4d 54  45 34 4f 44  45 7a 4e 44  49 31 4e 44   k0MTE4ODEzNDI1ND
0850:   41 34 4e 6a  59 32 4d 7a  41 77 4e 6a  45 7a 4e 54   A4NjY2MzAwNjEzNT
0860:   4d 78 4e 7a  59 7a 4d 7a  51 32 4d 54  67 78 4d 54   MxNzYzMzQ2MTgxMT
0870:   6b 34 4f 44  63 31 4e 41  3d 3d 09 f9  55 4a e9 80   k4ODc1NA==..UJ..
0880:   4c 33 00 ab  ca 52 3a 63  6a 53 af 81  f6 39 ad 6e   L3...R:cjS...9.n
0890:   ba 17 0e 05  18 f0 3f e2  9e 29                      ......?..)
